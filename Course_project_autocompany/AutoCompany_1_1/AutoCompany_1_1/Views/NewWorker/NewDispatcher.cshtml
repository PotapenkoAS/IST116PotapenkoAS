@model AutoCompany_1_1.Models.dispatcher

@{
	ViewBag.Title = "NewDispatcher";
}

<h2>NewAdmin</h2>
@if (Session["User"] != null && (Session["User"] as AutoCompany_1_1.Models.User).getRole() == "admin")
{
	using (Html.BeginForm())
	{
		@Html.AntiForgeryToken()

		<div class="form-horizontal">
			<h4>dispatcher</h4>
			<hr />
			@Html.ValidationSummary(true, "", new { @class = "text-danger" })

			<div class="form-group">
				@Html.LabelFor(model => model.workerCode, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.workerCode, new { htmlAttributes = new { @class = "form-control", @readonly = "true" } })
					@Html.ValidationMessageFor(model => model.workerCode, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.login, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.login, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.login, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.password, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.password, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.password, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.surname, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.surname, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.surname, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.name, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.name, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.name, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.patronymic, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.patronymic, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.patronymic, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.phoneNumber, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.phoneNumber, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.phoneNumber, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.experience, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.experience, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.experience, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.salary, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.salary, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.salary, "", new { @class = "text-danger" })
				</div>
			</div>


			<p style=" color:red">@ViewData["ErrorMessage"]</p>

			<div class="form-group">
				<div class="col-md-offset-2 col-md-10">
					<input type="submit" value="Create" class="btn btn-default" />
				</div>
			</div>
		</div>
	}
}
<div>
	@Html.ActionLink("Back to List", "Index")
</div>

